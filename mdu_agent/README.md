
# MDU Agent – CLI Chatbot for cnMaestro Wi-Fi Setup

The **MDU Agent** is a CLI-based AI chatbot designed to automate the setup of Cambium's cnMaestro networks in **Multi-Dwelling Units (MDUs)** like apartment complexes. It interacts naturally with users and executes the full provisioning flow via cnMaestro APIs.

---

## 🔧 Features

- Conversational setup of:
  - Networks and Sites
  - NSE Groups with VLAN and DHCP config
  - WLAN Profiles and AP Groups
  - Device onboarding
- Powered by OpenAI GPT with tool-calling support
- Session memory for smooth conversations
- Local function + API routing

---

## 🗂️ Project Structure

```
mdu_agent/
├── main.py                           # Main CLI loop (GPT interface + tool calling)
├── function_router.py                # Routes GPT tool calls to APIs or local functions
├── api_caller.py                     # Handles cnMaestro API authentication and calls
├── memory.py                         # Stores context like selected network, VLAN range
├── local_functions.py                # Generates request bodies for cnMaestro APIs
├── cli_agent_functions.yaml          # YAML tool/function definitions for OpenAI
├── credentials/
│   ├── cnmaestro.json                # cnMaestro credentials (client_id, secret, URL)
│   └── openai.json                   # OpenAI API key
├── base_configs/
│   └── nse_group_template.json       # Template JSON for NSE Group (optional)
└── __pycache__/                      # (autogenerated on run)
```

---

## 📁 File Descriptions

- **`main.py`**: Loads OpenAI API, prompts GPT, handles tool use and responses.
- **`function_router.py`**: Maps function names to local functions or cnMaestro API calls.
- **`api_caller.py`**: Handles token auth and GET/POST methods for cnMaestro.
- **`memory.py`**: Keeps state like selected network ID, resident VLANs, etc.
- **`local_functions.py`**: Local logic for JSON config generation (NSE, WLAN, AP).
- **`cli_agent_functions.yaml`**: Function definitions (OpenAI tool schema).
- **`credentials/`**: Holds OpenAI and cnMaestro credentials.
- **`base_configs/`**: Templates for API request bodies (like base NSE config).

---

## 🚀 Getting Started

1. Install dependencies: `openai`, `requests`
2. Fill `credentials/openai.json` and `credentials/cnmaestro.json`
3. Run: `python main.py`
4. Follow the chatbot prompts to complete your MDU Wi-Fi deployment!

---

## 🧠 Example Flow

> GPT will guide through:
1. Selecting or creating a network
2. Creating a site under the network
3. Defining VLANs and NSE group
4. Creating WLAN profiles
5. Creating AP group with the profiles and VLANs
6. Onboarding the NSE device

---

## 🤖 Powered by
- OpenAI GPT (tool-calling)
- Python
- cnMaestro API

---
