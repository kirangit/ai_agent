
# MDU Agent â€“ CLI Chatbot for cnMaestro Wi-Fi Setup

The **MDU Agent** is a CLI-based AI chatbot designed to automate the setup of Cambium's cnMaestro networks in **Multi-Dwelling Units (MDUs)** like apartment complexes. It interacts naturally with users and executes the full provisioning flow via cnMaestro APIs.

---

## ðŸ”§ Features

- Conversational setup of:
  - Networks and Sites
  - NSE Groups with VLAN and DHCP config
  - WLAN Profiles and AP Groups
  - Device onboarding
- Powered by OpenAI GPT with tool-calling support
- Session memory for smooth conversations
- Local function + API routing

---

## ðŸ—‚ï¸ Project Structure

```
mdu_agent/
â”œâ”€â”€ main.py                           # Main CLI loop (GPT interface + tool calling)
â”œâ”€â”€ function_router.py                # Routes GPT tool calls to APIs or local functions
â”œâ”€â”€ api_caller.py                     # Handles cnMaestro API authentication and calls
â”œâ”€â”€ memory.py                         # Stores context like selected network, VLAN range
â”œâ”€â”€ local_functions.py                # Generates request bodies for cnMaestro APIs
â”œâ”€â”€ cli_agent_functions.yaml          # YAML tool/function definitions for OpenAI
â”œâ”€â”€ credentials/
â”‚   â”œâ”€â”€ cnmaestro.json                # cnMaestro credentials (client_id, secret, URL)
â”‚   â””â”€â”€ openai.json                   # OpenAI API key
â”œâ”€â”€ base_configs/
â”‚   â””â”€â”€ nse_group_template.json       # Template JSON for NSE Group (optional)
â””â”€â”€ __pycache__/                      # (autogenerated on run)
```

---

## ðŸ“ File Descriptions

- **`main.py`**: Loads OpenAI API, prompts GPT, handles tool use and responses.
- **`function_router.py`**: Maps function names to local functions or cnMaestro API calls.
- **`api_caller.py`**: Handles token auth and GET/POST methods for cnMaestro.
- **`memory.py`**: Keeps state like selected network ID, resident VLANs, etc.
- **`local_functions.py`**: Local logic for JSON config generation (NSE, WLAN, AP).
- **`cli_agent_functions.yaml`**: Function definitions (OpenAI tool schema).
- **`credentials/`**: Holds OpenAI and cnMaestro credentials.
- **`base_configs/`**: Templates for API request bodies (like base NSE config).

---

## ðŸš€ Getting Started

1. Install dependencies: `openai`, `requests`
2. Fill `credentials/openai.json` and `credentials/cnmaestro.json`
3. Run: `python main.py`
4. Follow the chatbot prompts to complete your MDU Wi-Fi deployment!

---

## ðŸ§  Example Flow

> GPT will guide through:
1. Selecting or creating a network
2. Creating a site under the network
3. Defining VLANs and NSE group
4. Creating WLAN profiles
5. Creating AP group with the profiles and VLANs
6. Onboarding the NSE device

---

## ðŸ¤– Powered by
- OpenAI GPT (tool-calling)
- Python
- cnMaestro API

---
